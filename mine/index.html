<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 
    ! 의사코드 (pseudo)를 꼭 써서 사람 말로 표현해 볼것
    1. 배열이여야함
    2. 버튼을 누르면 배열의 순서가 바뀐다 (event)
    3. 문서상에 보여야한다 
    memo (문서상에서 보여야 하는것도 확인을 하는 구나)
  -->
  <!-- ^ 일단 이벤트를 걸 요소를 마크업 -->
  <div id="root">
    <div id="left"></div>
    <div id="right"></div>
  </div>
  
  
  <script>
    const arr = [1,2,3,4,5];
    const root = document.getElementById("root");
    const leftButton = document.getElementById('left');
    const rightButton = document.getElementById('right');
    //  문서의 요소들 불러오기

    root.addEventListener("click", function(event){
      let eventTargetIdValue = event.target.id;
      // 이건 무슨 뜻일까
      // root를 클릭 했을때
      // eventTargetIdValue 라는 변수를 선언하는데
      // <!-- ? event.target.id가 뭐지?
        // <!-- ^ 이벤트가 발생할 요소 반환
          // console.log(this);
          // <!--? 그러면 console찍었을때 나오는 this 가 root니까 this.id로 접근해도 될까?
    })
    // <!-- memo 이렇게 내가 익숙한 모습으로 먼저 쓴 다음에 좀더 유연한 모습의 함수로 만드는 것이 팁인듯
    
    
    // <!-- memo 함수 만들기
      //  이벤트가 일어날때 관련되는 모든 요소를 일단 적는다
    
      function arrHandler(leftButton,rightButton,array,prarentNode,eventType)
      //나보다 함수나 매개변수의 이름을 길고 자세하게 정함 -> 나중에나 다른사람이 알아보기 쉬움 <!-- memo 나도 그렇게 할 것
      { prarentNode.addEventListener(eventType,function(event){
        // prarentNode에 이벤트 달고 그 이벤트 종류는 eventType이라는 변수고 함수는 event임

        let eventTargetIdValue = event.target.id 
        let temp ;
        //  함수를 잘 만들기 위해서 필요한 능력 중하나가 변수 활용인것 같다 이렇게 비어있는 변수로 배열을 핸들링 할 수 도있다는 것을 배울것 유연한 사고
        // <!--!이 변수가 굉장히 중요하구만 미리 임시로 저장한다는 개념!!

        const changeArrayIndex = (eventTarget)=> { // 화살표 함수군
          if(eventTarget === leftButton){
            temp = arr[0];//첫번째 요소를 변수에 저장
            arr.shift(); // 옮기고 싶은 요소, 즉 첫번째를 원래 자리에서 삭제
            arr.push(temp);// 미리 저장해 두었던 배열의 첫번째 값이였던것을 마지막 원소로 추가
            console.log(arr);
          }
        }
        //  위의 코드는 왜 ...? 여기 있는 것임?rightButton에 있어야 하지 않나?
        // 위의 코드는 자동으로 요소를 오른쪽에서 왼쪽으로 넘기는 이벤트를 줄때 쓸 함수 인가봐 (setIntervlal?)
        
        
        
        if(eventTargetIdValue === leftButton) {
          temp = arr[0]; //배열의 첫번째 원소를 임시로 저장
          arr.shift(); // 배열의 첫번째 원소 삭제
          arr.push(temp); //미리 저장해두었던 첫번째 원소값이였던 것을 매열 마지막에 추가
        }
        if(eventTargetIdValue === rightButton){
          temp = arr[arr.length-1]; //배열의 마지막 원소 저장
          arr.pop(); // 배열의 마지막 원소 삭제
          arr.unshift(temp); // temp에 임시로 저장해둔 마지막 원소 였던 것을 배열의 첫번째에 추가
          console.log(arr);// 꼭console 찍어서 확인할 것
        }
        if(eventTargetIdValue === prarentNode.id){
          console.log(`당신은 지금 ${prarentNode.id}의 id값입니다`)
        }
        
      })

      };
      /*
        함수화가 어려운 부분은 이것이 무엇인지 모르기 때문
        <!-- memo "무엇"을 "어떻게 하고 싶은지"를 사람말로 정리하면 편할듯
        <!-- memo "무엇"이 변수가 되고 "어떻게 하고 싶은지"는 이벤트가 됨
        하지만 확정된 부분이 있다면 간단해짐
        
        사고의 흐름
        1. 어차피 트리거는 DOM에서 가져옴
        2. 문서에서 가져오든 js에서 동적으로 만든 배열이든 어차피 배열임 
      */ 
      
      
        
      arrHandler("left", "right", arr, root, "click")
      // 함수 호출 안해놓고 안된다고 슬퍼하지 말기
      

  </script>
  
  
</body>
</html>